@using TManagement.Views.Shared.Components.Notifications
@model ViewNotificationModel


<li class="dropdown notification-list topbar-dropdown">
    <a class="nav-link dropdown-toggle waves-effect waves-light" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
        <i class="fe-bell noti-icon"></i>
        <span  id="notificationCount" class="badge bg-danger rounded-circle noti-icon-badge">@Model.UnreadCount</span>
    </a>
    <div class="dropdown-menu dropdown-menu-end dropdown-lg">

        <!-- item-->
        <div class="dropdown-item noti-title">
            <h5 class="m-0">
                <span class="float-end">
                    <a href="" class="text-dark">
                        <small>Clear All</small>
                    </a>
                </span>Notification
            </h5>
        </div>

        <div id="dvNotifications" class="noti-scroll" data-simplebar>


            @foreach (var not in Model.Notifications)
            {

                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item notify-item">
                    <div class="notify-icon bg-primary">
                    <i class="mdi mdi-comment-account-outline"></i>
                </div>
                <p class="notify-details">
                        @not.Message
                        <small class="text-muted">@not.NotificationDate</small>
                </p>
            </a>

            }

            </div>
            

        <!-- All-->
        <a href="javascript:void(0);" class="dropdown-item text-center text-primary notify-item notify-all">
            View all
            <i class="fe-arrow-right"></i>
        </a>

    </div>
</li>